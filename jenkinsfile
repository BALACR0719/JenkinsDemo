
pipeline {

  agent any

  stages {

    stage('Setup') {
         steps {

         script {
                    def workspace = pwd()
                    echo "My workspace is ${workspace}"
                    echo "Setting up the workspace"
                 }
                 }
          }

    stage('Checkout code'){
        steps {
           echo  "Pulling Branch from Github"          
        }
    }

    stage('Installing tools'){
        steps {
				echo  "Installing tools"  
           }
        }
		
		stage('Installing requirements'){
        steps {
				echo  "Installing requirements" 
          }
        }	
		
		
		stage('test using pytest'){
        steps {
				echo  "test using pytest" 
          }
        }
		
		stage('publish test results'){
        steps {
				echo  "publish test results" 
          }
        }
		
		stage('generate egg files'){
        steps {
				withEnv(["HOME=${env.WORKSPACE}"]) {
               sh 'python3 -m pip install --user --upgrade setuptools wheel'
               sh 'python3 streamingLibrary.py bdist_egg'               
              }
          }
        }
		
    }

     
    }
